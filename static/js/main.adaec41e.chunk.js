(this["webpackJsonptwitter-clone"]=this["webpackJsonptwitter-clone"]||[]).push([[0],{42:function(e,t,a){},43:function(e,t,a){},46:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var s=a(3),r=a(4),n=a.n(r),c=a(34),i=a.n(c),l=(a(42),a(12)),o=a(20),u=a.p+"static/media/search.813ef9bb.svg",d=function(e){var t=e.signInWithGoogle;return Object(s.jsxs)("div",{className:"w-screen h-screen absolute top-0 left-0 bg-gray-900 bg-opacity-90",children:[Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"bg-gray-900 opacity-100 rounded-md px-5 py-2 max-w-lg mx-auto my-10 flex justify-center items-center",children:Object(s.jsxs)("button",{onClick:t,className:"my-10 rounded-md bg-blue-600 hover:bg-blue-700 shadow flex justify-center items-center",children:[Object(s.jsx)("span",{className:"bg-white p-2 rounded",children:Object(s.jsx)("img",{src:u,className:"w-8 h-8",alt:"register with google"})}),Object(s.jsx)("span",{className:"mx-4 tracking-wider  text-white",children:"Register With Google"})]})})}),Object(s.jsx)("div",{className:"text-gray-300 max-w-md mx-auto text-xs p-5 border rounded",children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{className:"mt-2",children:" Hey user , Don't worry of you Log In with Google this is just for test purpose. "}),Object(s.jsx)("li",{className:"mt-2",children:" We Don't have any intention to sell your any of data to Third Party "})]})})]})},j=a(9),b=a(21),h=function(e){var t=e.created_at,a=Object(r.useState)(),n=Object(l.a)(a,2),c=n[0],i=n[1];return Object(r.useEffect)((function(){var e=setInterval((function(){i(Math.random())}),1e4);return function(){clearInterval(e)}}),[c]),Object(s.jsxs)("span",{className:"text-gray-500 text-xs",children:[" ",x(t),"  "]})},x=function(e){switch(typeof e){case"number":break;case"string":e=+new Date(e);break;case"object":e.constructor===Date&&(e=e.getTime());break;default:e=+new Date}var t=[[60,"seconds",1],[120,"1 minute ago","1 minute from now"],[3600,"minutes",60],[7200,"1 hour ago","1 hour from now"],[86400,"hours",3600],[172800,"Yesterday","Tomorrow"],[604800,"days",86400],[1209600,"Last week","Next week"],[2419200,"weeks",604800],[4838400,"Last month","Next month"],[29030400,"months",2419200],[58060800,"Last year","Next year"],[290304e4,"years",29030400],[580608e4,"Last century","Next century"],[580608e5,"centuries",290304e4]],a=(+new Date-e)/1e3,s="ago",r=1;if(0===a)return"Just now";a<0&&(a=Math.abs(a),s="from now",r=2);for(var n,c=0;n=t[c++];)if(a<n[0])return"string"==typeof n[2]?n[r]:Math.floor(a/n[2])+" "+n[1]+" "+s;return e},m=(a(43),function(e){var t=e.tweet;return Object(s.jsxs)("div",{className:"m-4 p-5 max-w-xl rounded-md shadow-md bg-gray-800",children:[Object(s.jsx)(h,{created_at:t.created_at}),Object(s.jsx)("div",{children:function(){var e=[];return t.tweet.split(" ").forEach((function(t){"#"===t[0]?e.push(Object(s.jsxs)("span",{className:"text-blue-400 cursor-pointer",children:[" ",t," "]})):e.push(t+" ")})),e}()}),Object(s.jsxs)("div",{className:"mt-3 flex items-center",children:[Object(s.jsx)("img",{className:"mr-3 w-8 h-8 rounded-full",src:t.user.photoURL,alt:t.user.name}),Object(s.jsxs)("span",{className:"text-blue-400 cursor-pointer relative username",children:["@",t.user.username,Object(s.jsx)("div",{className:"absolute top-6 left-0 bg-gray-800 border border-gray-600 text-gray-300 px-3 py-5 rounded-md userInfo z-10",style:{minWidth:300},children:Object(s.jsxs)("div",{className:" flex flex-col items-center justify-center ",children:[Object(s.jsx)("img",{className:"w-16 h-16 rounded-full",src:t.user.photoURL,alt:t.user.name}),Object(s.jsxs)("span",{className:"text-blue-400",children:[" @",t.user.username," "]}),Object(s.jsxs)("span",{children:[" ",t.user.name," "]})]})})]})]})]})}),f=function(e){var t=e.tweets,a=e.loadingMessage;return Object(s.jsx)("div",{children:t.length>0?t.map((function(e){return Object(s.jsx)(m,{tweet:e},e.id)})):Object(s.jsx)("div",{className:"m-4 p-5 max-w-2xl font-semibold text-2xl rounded-md shadow-md bg-gray-800",children:a||"Please wait. fetching data ..."})})},g=a(17),O=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){g.a.database().ref("tweets").orderByChild("created_at").on("value",(function(e){var t=[],a=e.val();if(n([]),a){Object.keys(a).forEach((function(e){var s=Object(b.a)({id:e},a[e]);t.push(s)}));var s=t.reverse();n(s)}}))}),[]),Object(s.jsx)("div",{className:"text-gray-300",children:Object(s.jsx)(f,{tweets:a})})},p=function(e){var t=e.searchTerm,a=e.changeSearchTerm,r=e.searchTag;return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"m-4 text-gray-400 text-5xl",children:"Search"}),Object(s.jsxs)("div",{className:"flex items-center",children:[Object(s.jsx)("input",{type:"text",maxLength:"20",value:t,onChange:a,className:"px-4 py-2 mx-4 text-lg text-gray-300 bg-gray-800 rounded max-w-lg w-full focus:outline-none"}),Object(s.jsx)("button",{onClick:r,className:"ml-1 px-3 py-2 text-sm bg-blue-400 text-white rounded-md",children:"Search "})]})]})},y=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)([]),i=Object(l.a)(c,2),o=i[0],u=i[1];return Object(s.jsxs)("div",{className:"text-gray-400",children:[Object(s.jsx)(p,{changeSearchTerm:function(e){n(e.target.value)},searchTerm:a,searchTag:function(){if(0!==a.length){var e="#"===a[0]?a:"#"+a;g.a.database().ref("tweets").orderByChild("tag").startAt(e).endAt(e+"\uf8ff").on("value",(function(e){var t=[],a=e.val();if(u([]),a){Object.keys(a).forEach((function(e){var s=Object(b.a)({id:e},a[e]);t.push(s)}));var s=t.reverse();u(s)}}))}else alert("Please provide the search field")}}),Object(s.jsx)(f,{tweets:o,loadingMessage:"type tag to search ..."})]})},v=a(16),w=function(){var e=v.a.auth().currentUser;return e?{name:e.displayName,email:e.email,photoURL:e.photoURL,uid:e.uid}:null},N=function(e){var t=e.notific;return Object(s.jsxs)("div",{className:"m-4 p-5 max-w-xl rounded-md shadow-md bg-gray-800 text-gray-400",children:[Object(s.jsx)(h,{created_at:t.created_at}),Object(s.jsx)("div",{className:"mt-1",children:t.title})]})},k=function(){var e=w(),t=Object(r.useState)([]),a=Object(l.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){g.a.database().ref("/users/"+e.uid+"/notifications").orderByChild("created_at").on("value",(function(e){var t=[],a=e.val();if(c([]),a){Object.keys(a).forEach((function(e){var s=Object(b.a)({id:e},a[e]);t.push(s)}));var s=t.reverse();c(s)}}))}),[]),Object(s.jsx)("div",{children:n.length>0?n.map((function(e){return Object(s.jsx)(N,{notific:e},e.id)})):Object(s.jsx)("div",{className:"m-4 p-5 max-w-2xl font-semibold text-2xl rounded-md shadow-md bg-gray-800 text-gray-300",children:"Please wait. fetching data ..."})})},C=(a(46),function(){return Object(s.jsx)("div",{className:"h-screen w-full overflow-y-scroll scrollbar",children:Object(s.jsxs)(j.d,{children:[Object(s.jsx)(j.b,{path:"/feed",children:Object(s.jsx)(O,{})}),Object(s.jsx)(j.b,{path:"/trending",children:Object(s.jsx)(y,{})}),Object(s.jsx)(j.b,{path:"/notification",children:Object(s.jsx)(k,{})}),Object(s.jsx)(j.b,{exact:!0,path:"/",children:Object(s.jsx)(j.a,{to:"/feed"})})]})})}),S=function(e){var t=e.title,a=e.icon,r=e.link,n=["m-3","p-3","text-4xl","text-gray-600","hover:text-gray-400"];return"twitter"===t&&(n.pop(),n.pop(),n.push("text-blue-400")),Object(s.jsx)(o.b,{to:r,children:Object(s.jsx)("div",{className:n.join(" "),children:a})})},L=a(29),T=a(30),U=function(e){var t=e.toggleShowUserPorfile,a=w();return Object(s.jsx)("div",{className:"m-3 p-3",onClick:t,children:Object(s.jsx)("img",{className:"w-12 h-12 rounded-full",src:a.photoURL,alt:"user avatar"})})},I=a(36),D=n.a.createContext({changeCreateTweet:function(){}}),M=function(){var e=Object(r.useContext)(D);return Object(s.jsx)("div",{className:"m-3 p-3 text-3xl",onClick:e.changeCreateTweet,children:Object(s.jsx)("div",{className:"w-12 h-12 bg-blue-400 text-gray-100 rounded-full flex justify-center items-center",children:Object(s.jsx)(I.a,{})})})},P=a(24),R=Object(j.g)((function(e){var t=e.history,a=Object(r.useState)(""),n=Object(l.a)(a,2),c=n[0],i=n[1],o=Object(r.useContext)(D),u=w();return Object(s.jsx)("div",{className:"w-screen h-screen absolute top-0 left-0 bg-gray-900 bg-opacity-90 z-20",children:Object(s.jsxs)("div",{className:"bg-gray-800 rounded-md py-5 px-8  max-w-lg mx-auto my-10 relative",children:[Object(s.jsxs)("div",{className:"text-blue-400 text-4xl absolute -top-2 -right-2",onClick:o.changeCreateTweet,children:[" ",Object(s.jsx)(P.a,{})]}),Object(s.jsx)("p",{className:"mb-2 text-xl font-medium tracking-wider text-blue-400",children:" Write Your Tweet  "}),Object(s.jsx)("textarea",{rows:"3",className:"px-4 py-2 w-full border rounded-md bg-gray-700 text-gray-300 text-lg focus:outline-none",maxLength:"120",placeholder:"Tweet",onChange:function(e){return i(e.target.value)}}),Object(s.jsx)("div",{className:"text-sm text-gray-400",children:" we are currently able track only one hash (#) tag. So while Writing tweet please use only one tag. If you add more than one tag we only keep track last tag of your tweet."}),Object(s.jsx)("div",{className:"flex justify-end",children:Object(s.jsx)("button",{onClick:function(){if(c.length<5)alert("not valid text. Minimum lenght shold be greater than 4");else if(c.length>120)alert("length is to big. Maximum lenght shold be less than 120");else{var e="default";c.split(" ").forEach((function(t){"#"===t[0]&&(e=t)}));var a={tweet:c,tag:e,created_at:Date.now(),user:{name:u.name,photoURL:u.photoURL,uid:u.uid,username:u.email.split("@")[0]}},s=Date.now()+"-tweet-"+Math.floor(1e7*Math.random());g.a.database().ref("/tweets/"+s).set(a),o.changeCreateTweet(),t.push("/feed")}},className:"px-4 py-2 my-2 text-sm bg-blue-400 text-white rounded-md tracking-wider",children:"Tweet"})})]})})})),E=function(e){var t=e.toggleShowUserPorfile,a=e.signOut,r=w();return Object(s.jsx)("div",{className:"w-screen h-screen absolute top-0 left-0 bg-gray-900 bg-opacity-90 z-20",children:Object(s.jsxs)("div",{className:"bg-gray-800 rounded-md py-5 px-8  max-w-xl mx-auto my-10 relative",children:[Object(s.jsxs)("div",{className:"text-blue-400 text-4xl absolute -top-2 -right-2",onClick:t,children:[" ",Object(s.jsx)(P.a,{})]}),Object(s.jsxs)("div",{className:"flex flex-col items-center text-gray-300",children:[Object(s.jsx)("img",{src:r.photoURL,alt:r.name,className:"rounded-full"}),Object(s.jsxs)("span",{className:"mt-2 text-blue-400",children:[" @",r.email.split("@")[0]," "]}),Object(s.jsxs)("span",{className:"mt-4 text-2xl",children:[" ",r.name," "]}),Object(s.jsxs)("span",{className:"mt-2",children:[" ",r.email," "]}),Object(s.jsx)("button",{onClick:a,className:"px-4 py-1 mt-10 rounded-md bg-red-400 text-white text-sm font-medium",children:" Log out "})]})]})})},_=function(e){var t=e.signOut,a=Object(r.useState)(!1),n=Object(l.a)(a,2),c=n[0],i=n[1],o=Object(r.useState)(!1),u=Object(l.a)(o,2),d=u[0],j=u[1],b=[{title:"twitter",icon:Object(s.jsx)(L.b,{}),link:""},{title:"feed",icon:Object(s.jsx)(T.b,{}),link:"/feed"},{title:"trending",icon:Object(s.jsx)(L.a,{}),link:"/trending"},{title:"notification",icon:Object(s.jsx)(T.a,{}),link:"/notification"}];return Object(s.jsxs)(D.Provider,{value:{changeCreateTweet:function(){return i(!c)}},children:[c?Object(s.jsx)(R,{}):null,d?Object(s.jsx)(E,{signOut:t,toggleShowUserPorfile:function(){return j(!d)}}):null,Object(s.jsxs)("div",{className:"w-16 md:w-24 lg:w-32 flex flex-col justify-between",children:[Object(s.jsxs)("div",{children:[b.map((function(e){return Object(s.jsx)(S,{title:e.title,icon:e.icon,link:e.link},e.title)})),Object(s.jsx)(M,{})]}),Object(s.jsx)(U,{toggleShowUserPorfile:function(){return j(!d)}})]})]})},W=(a(51),function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),a=t[0],n=t[1];Object(r.useEffect)((function(){v.a.auth().onAuthStateChanged((function(e){n(!!e)}))}),[]);return Object(s.jsx)(o.a,{children:a?Object(s.jsxs)("div",{className:"bg-gray-900 flex w-screen h-screen",children:[Object(s.jsx)(_,{signOut:function(){v.a.auth().signOut(),n(!1)}}),Object(s.jsx)(C,{})]}):Object(s.jsx)(d,{signInWithGoogle:function(){var e=new v.a.auth.GoogleAuthProvider;v.a.auth().signInWithPopup(e).then((function(e){n(!0);var t={name:e.user.displayName,email:e.user.email,photoURL:e.user.photoURL},a={title:"Welcome "+e.user.displayName+" to twitter clone app. This app is build by Ajay Kumbhar to learn react skill. Take tour of this app. Have fun with your friend. Don't misuse it otherwise you will be block by system. Have a great day.",created_at:Date.now()},s=Date.now()+"-notification-"+Math.floor(1e7*Math.random());v.a.database().ref("/users/"+e.user.uid+"/info").set(t),v.a.database().ref("/users/"+e.user.uid+"/notifications/"+s).set(a)})).catch((function(e){alert(e.message)}))}})})}),z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,53)).then((function(t){var a=t.getCLS,s=t.getFID,r=t.getFCP,n=t.getLCP,c=t.getTTFB;a(e),s(e),r(e),n(e),c(e)}))};v.a.initializeApp({apiKey:"AIzaSyDrd3xgyVmzgYr_HRc1YzC2uASkn9yavzM",authDomain:"ajaykumbhar-reactapp.firebaseapp.com",databaseURL:"https://ajaykumbhar-reactapp-default-rtdb.firebaseio.com",projectId:"ajaykumbhar-reactapp",storageBucket:"ajaykumbhar-reactapp.appspot.com",messagingSenderId:"867659412513",appId:"1:867659412513:web:1744e98a748e52d3979f60",measurementId:"G-4CLZ5XNG2J"}),i.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(W,{})}),document.getElementById("root")),z()}},[[52,1,2]]]);
//# sourceMappingURL=main.adaec41e.chunk.js.map